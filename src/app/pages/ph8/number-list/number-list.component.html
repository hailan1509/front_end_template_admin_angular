<div class="da-list-wrap">
  <div class="da-content-banner">
    <d-breadcrumb>
      <d-breadcrumb-item
        ><a routerLink="/">{{ 'list.breadcrumb.home' | translate }}</a></d-breadcrumb-item
      >
      <d-breadcrumb-item>Quản lý</d-breadcrumb-item>
      <d-breadcrumb-item>Quản lý số hoá</d-breadcrumb-item>
    </d-breadcrumb>
    <div class="da-content-banner-title">
      Thiết lập trường dữ liệu
    </div>
    
  </div>
  <div class="da-content-wrapper">
    <da-layout-row [daGutter]="[24, 24]">
      <da-col-item [daSpan]="24" [daXs]="24">
        <div class="da-list-container">
          <div class="da-list-header">
            <div class="da-common-search">
              <div class="da-left">
                <d-search
                [size]="'sm'"
                (searchFn)="getList()"
                [(ngModel)]="_search.keyword"
                class="da-inline"
                [placeholder]="'Tìm tên trường dữ liệu'"
                ></d-search>
                  <a class="btn btn-primary" (click)="addRow()" routerLink="/pages/PH8/new"  style="margin-left: 12px">Thêm trường dữ liệu</a>

                  <d-button (click)="reset()" style="margin-left: 12px">Xoá</d-button>
              </div>
              <div class="da-right">
                
              </div>
            </div>
          </div>
          <br>
          <!-- <div style="width: 100%; height: 50%;" id="pdf" >
            <input (change)="upload($event)"  type="file" />
            <pdf-viewer *ngIf="pdfSrc" [src]="pdfSrc" [render-text]="true" [original-size]="true" style="display: block; width: 50%; height: 100%;"></pdf-viewer>
          </div> -->
        </div>
      </da-col-item>
    </da-layout-row>
  </div>
</div>

<div class="list-content" dLoading [loading]="busy">
  <d-data-table
    #datatable
    [dataSource]="values"
    [borderType]="searchForm.borderType"
    [size]="searchForm.size"
    [tableLayout]="searchForm.layout"
    [scrollable]="true"
  >
    <d-column  header="STT" [width]="'100px'">
      <d-cell>
        <ng-template let-rowIndex="rowIndex">
          {{ rowIndex+1 }}
        </ng-template>
      </d-cell>
    </d-column>
      <d-column field="document_rcd" header="Tên trường dữ liệu" [width]="'100px'">
        <d-cell>
          <ng-template let-cellItem="cellItem">
            {{ cellItem }}
          </ng-template>
        </d-cell>
      </d-column>
      <d-column field="document_number" header="Số dữ liệu" [width]="'100px'">
        <d-cell>
          <ng-template let-cellItem="cellItem">
            {{ cellItem }}
          </ng-template>
        </d-cell>
      </d-column>
      <d-column field="document_type_rcd" header="Kiểu dữ liệu" [width]="'300px'">
        <d-cell>
          <ng-template let-cellItem="cellItem">
            <span [title]="cellItem" class="over-flow-ellipsis" [style.width]="'300px'">
              <!-- <d-tag [tag]="'Epic'" [labelStyle]="'epic'"></d-tag> -->
              {{ cellItem }}
            </span>
          </ng-template>
        </d-cell>
      </d-column>
      <d-column field="status" header="Trạng thái" [width]="'100px'">
        <d-cell>
          <ng-template let-cellItem="cellItem">
            <d-tag [tag]="cellItem" [labelStyle]="cellItem"></d-tag>
          </ng-template>
        </d-cell>
      </d-column>
      
      <d-column field="Actions" header="Chức năng" [width]="'100px'">
        <d-cell>
          <ng-template let-rowItem="rowItem" let-rowIndex="rowIndex">
            <div class="btn-group over-flow-ellipsis">
              <d-button icon="icon-edit" bsStyle="text-dark" title="edit" (click)="editRow(rowItem, rowIndex)"></d-button>
              <d-button icon="icon-delete" bsStyle="text-dark" title="delete" (click)="deleteRow(rowItem.document_rcd)"></d-button>
            </div>
          </ng-template>
        </d-cell>
      </d-column>
  </d-data-table>
  <div class="da-list-footer"> 
    <d-pagination
      [size]="'sm'"
      [total]="pager.total"
      [(pageSize)]="pager.pageSize"
      [(pageIndex)]="pager.pageIndex"
      [canViewTotal]="true"
      [canChangePageSize]="true"
      [canJumpPage]="true"
      [maxItems]="5"
      (pageIndexChange)="onPageChange($event)"
      (pageSizeChange)="onSizeChange($event)"
    >
    </d-pagination>
  </div>
</div>
<ng-template #EditorTemplate>
  <da-admin-form [formConfig]="formConfig" [insert]="insert"  [formData]="formData" (submitted)="onSubmitted($event)" (canceled)="onCanceled()">
  </da-admin-form>
</ng-template>


